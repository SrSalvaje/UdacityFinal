(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,function(e,n,t){e.exports=t.p+"static/media/pbf.f45b0a12.png"},function(e,n,t){e.exports=t.p+"static/media/google.d2bd1f98.png"},,function(e,n,t){e.exports=t(29)},,,,,,function(e,n,t){},,function(e,n,t){},,function(e,n,t){},,function(e,n,t){},,function(e,n,t){},,function(e,n,t){},,function(e,n,t){"use strict";t.r(n);var a=t(0),o=t.n(a),s=t(7),i=t.n(s),r=(t(17),t(10)),c=t(1),l=t(2),u=t(4),d=t(3),p=t(5),m=(t(19),function(e){function n(){var e,t;Object(c.a)(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(t=Object(u.a)(this,(e=Object(d.a)(n)).call.apply(e,[this].concat(o)))).state={isMapRendered:!1,map:null},t.renderMap=function(){!function(e){var n=window.document.getElementsByTagName("script")[0],t=window.document.createElement("script");t.src=e,t.async=!0,t.defer=!0,n.parentNode.insertBefore(t,n)}("https://maps.googleapis.com/maps/api/js?key=".concat("AIzaSyAn6EMjdX_667KspKuVZRvYDNEZHNQXKS4","&callback=initMap")),window.initMap=t.initMap},t.initMap=function(){var e=new window.google.maps.Map(document.getElementById("map"),{center:{lat:55.609126,lng:13.000811},zoom:14});e?t.setState({isMapRendered:!0,map:e},t.renderMarkers):(t.onMapError(),console.log(e))},t.renderMarkers=function(){var e=t.state.map,n=new window.google.maps.InfoWindow,a=[];t.props.venues.forEach(function(o){var s="<div class='infoWindow'>\n        <p class=\"vName\">".concat(o.venue.name,'</p>\n        <p class="vCat">').concat(o.venue.categories[0].name,'</p>\n        <p class="vAdd">Address: ').concat(o.venue.location.formattedAddress,"</p>\n        </div>"),i=new window.google.maps.Marker({map:e,animation:window.google.maps.Animation.DROP,position:{lat:o.venue.location.lat,lng:o.venue.location.lng},id:o.venue.id,category:""===t.props.search?"topPicks":t.props.search,venue:o.venue.name});a.push(i),i.addListener("click",function(){n.setContent(s),n.open(e,i)}),i.addListener("mouseover",function(){null!==i.getAnimation()?i.setAnimation(null):i.setAnimation(window.google.maps.Animation.BOUNCE),window.setTimeout(function(){i.setAnimation(null)},1e3)})}),t.props.addMarkerToState(a)},t}return Object(p.a)(n,e),Object(l.a)(n,[{key:"componentDidUpdate",value:function(e){e.venues!==this.props.venues&&null===this.state.map&&this.renderMap(),e.venues!==this.props.venues&&this.state.map&&(this.props.markers.map(function(e){return e.setMap(null)}),this.renderMarkers())}},{key:"render",value:function(){return o.a.createElement("div",{className:"mapContainer"},o.a.createElement("div",{id:"map"}))}}]),n}(a.Component));window.gm_authFailure=function(e){document.querySelector("#map").innerHTML="<div class='warn-dialog'>\n    <h2 class='warn-t'>Oh The Humanity!!!</h2>\n    <p class='warn-me'>Google Maps is burning! Please check the console or come back later.<p>\n    <p class='warn-me'>If this is a Google Maps error you can still use the navigation bar to find the coolest places in town.</p></div>"};var f=m,v=(t(21),function(e){function n(){var e,t;Object(c.a)(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(t=Object(u.a)(this,(e=Object(d.a)(n)).call.apply(e,[this].concat(o)))).state={isDataReady:!1,query:""},t.changeCat=function(e){t.props.changeQuery(e.value),t.setState({query:e.text})},t}return Object(p.a)(n,e),Object(l.a)(n,[{key:"componentDidUpdate",value:function(e){e.venues!==this.props.venues&&this.setState({isDataReady:!0})}},{key:"render",value:function(){var e=this,n=this.state,t=n.isDataReady,a=n.query,s=this.props.clickOnListItem;return o.a.createElement("div",{className:"side-bar"},o.a.createElement("select",{className:"searchCont",id:"searchBar",onChange:function(n){return e.changeCat(n.target)}},o.a.createElement("option",{value:a},a||"Top Picks"),this.props.categories.map(function(e){return o.a.createElement("option",{key:e.value,value:e.value},e.text)})),o.a.createElement("ul",{className:"listCont"},t&&this.props.venues.map(function(e){return o.a.createElement("li",{className:"listItem",key:e.venue.id,onClick:function(n){return s(e,n)}},o.a.createElement("div",{className:"locationCont","aria-label":"Venue",tabIndex:"0"},o.a.createElement("p",{className:"lName","aria-label":"Name",tabIndex:"0"},e.venue.name),o.a.createElement("p",{className:"lCat","aria-label":"Type",tabIndex:"0"},e.venue.categories[0].name?e.venue.categories[0].name:"No Category Available"),o.a.createElement("p",{className:"lAdd","aria-label":"Address",tabIndex:"0"},"Address: ".concat(e.venue.location.address,", ").concat(e.venue.location.city)),o.a.createElement("a",{tabIndex:"0",href:"#searchBar",className:"skip-link"},"Go back to search bar")))})))}}]),n}(a.Component)),h=(t(23),t(25),function(){return o.a.createElement("div",null,o.a.createElement("input",{type:"checkbox",className:"openSidebarMenu",id:"openSidebarMenu",onClick:function(){document.querySelector(".side-bar").classList.toggle("openSide")}}),o.a.createElement("label",{htmlFor:"openSidebarMenu",className:"sidebarIconToggle","aria-label":"menu",role:"button",tabIndex:"0",onKeyPress:function(e){13===(e.keyCode||e.which)&&document.getElementById("openSidebarMenu").click()}},o.a.createElement("div",{className:"spinner diagonal part-1"}),o.a.createElement("div",{className:"spinner horizontal"}),o.a.createElement("div",{className:"spinner diagonal part-2"})))}),g=(t(27),t(8)),w=t.n(g),k=t(9),y=t.n(k),b=function(){return o.a.createElement("footer",{className:"footer"},o.a.createElement("div",{className:" fsq"},o.a.createElement("img",{className:"fourSq",src:w.a,alt:"Powered by FourSquare"})),o.a.createElement("div",{className:" glg"},o.a.createElement("img",{className:"googleLogo",src:y.a,alt:"Powered by Google"})))},E=function(e){function n(){var e,t;Object(c.a)(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(t=Object(u.a)(this,(e=Object(d.a)(n)).call.apply(e,[this].concat(o)))).state={myTopPicks:null,markers:[],venues:[],filteredVenues:[],search:"",error:!1,categories:[{value:"topPicks",text:"Top Picks"},{value:"food",text:"Food"},{value:"drinks",text:"Bars"},{value:"coffee",text:"Coffee"},{value:"shops",text:"Shopping"},{value:"arts",text:"Art"},{value:"outdoors",text:"Outdoors"},{value:"sights",text:"Sights"},{value:"trending",text:"Trending"}],isInfoWindowOpen:!1},t.changeQuery=function(e){t.setState({search:e},t.fetchVenues)},t.fetchVenues=function(){var e={query:t.state.search?t.state.search:"topPicks",near:"Malmo,Sweden",limit:"30",v:"20190204"},n="https://api.foursquare.com/v2/venues/"+"explore?client_id=".concat("K4Z0NZV2MFC43ORGTT5ZLIDUQO3DVNUCLHIB33QS5W0KO54K","&client_secret=").concat("O0ZIQFPBW5GTWXJRUG2NFVHYR1HARB4RZCDEFRA0KXH55Y2V","&v=").concat(e.v,"&near=").concat(e.near,"}&limit=").concat(e.limit,"&section=").concat(e.query);fetch(n).then(function(e){return e.json()}).then(function(e){t.state.myTopPicks?t.setState({venues:e.response.groups[0].items}):t.setState({myTopPicks:e.response.groups[0].items,venues:e.response.groups[0].items})}).catch(function(e){alert("Oh no, it seems a dingo eat your Foursquare markers! Check back later.")})},t.addMarkerToSate=function(e){t.setState({markers:Object(r.a)(e)})},t.launchInfoWindow=function(e,n){var a;function o(){a=new window.google.maps.InfoWindow;var t="<div class='infoWindow'>\n        <p class=\"vName\">".concat(e.venue.name,'</p>\n        <p class="vCat">').concat(e.venue.categories[0].name,'</p>\n        <p class="vAdd">Address: ').concat(e.venue.location.formattedAddress,"</p>\n        </div>");a.setContent(t),a.open(window.google.maps.Map,n)}!1===t.state.isInfoWindowOpen?(o(),t.setState({isInfoWindowOpen:a})):(t.state.isInfoWindowOpen.close(),t.setState({isInfoWindowOpen:!1}),o(),t.setState({isInfoWindowOpen:a}))},t.clickOnListItem=function(e,n){var a;"skip-link"!==n.target.classList.value?(a=t.state.markers.filter(function(n){return e.venue.id===n.id})[0],t.launchInfoWindow(e,a),a.setAnimation(window.google.maps.Animation.BOUNCE),window.setTimeout(function(){a.setAnimation(null)},5e3)):(n.preventDefault(),document.querySelector("#searchBar").focus())},t}return Object(p.a)(n,e),Object(l.a)(n,[{key:"componentDidMount",value:function(){this.fetchVenues()}},{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement("header",{className:"pageHeader"},o.a.createElement("h1",null,"My Malm\xf6")),o.a.createElement(h,null),o.a.createElement("main",{className:"container"},o.a.createElement(v,{venues:this.state.venues,filteredVenues:this.filteredVenues,clickOnListItem:this.clickOnListItem,categories:this.state.categories,changeQuery:this.changeQuery,query:this.state.query,markers:this.state.markers}),o.a.createElement(f,{fetchVenues:this.fetchVenues,venues:this.state.venues,filteredVenues:this.filteredVenues,addMarkerToState:this.addMarkerToSate,search:this.state.search,markers:this.state.markers})),o.a.createElement(b,null))}}]),n}(a.Component),N=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function O(e,n){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}i.a.render(o.a.createElement(E,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/UdacityFinal",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var n="".concat("/UdacityFinal","/service-worker.js");N?(function(e,n){fetch(e).then(function(t){var a=t.headers.get("content-type");404===t.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):O(e,n)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(n,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):O(n,e)})}}()}],[[11,2,1]]]);
//# sourceMappingURL=main.f511d018.chunk.js.map